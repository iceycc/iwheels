## jest测试
安装jest以及相关测试包https://www.jestjs.cn/

- `lerna add jest packages/tools/supertest`

- `lerna add express --dev packages/tools/supertest`
- `lerna add cookie-parser --dev packages/tools/supertest`
- `lerna add body-parser --dev packages/tools/supertest`
- `lerna add nock --dev packages/tools/supertest`  一个 HTTP 模拟和预期测试库，用于 Node.js 平台。用来测试 HTTP 请求
- `lerna add methods --dev packages/tools/supertest`  
- `lerna add superagent --dev packages/tools/supertest` 轻量的Ajax API

## babel-jest
不支持esModule
`lerna add babel-jest  packages/tools/supertest`
`lerna add @babel/preset-env packages/tools/supertest`
https://stackoverflow.com/questions/59879689/jest-syntaxerror-cannot-use-import-statement-outside-a-module
```json
{
  "scripts": {
    "test": "jest"
  },
  "jest": {
    "transform": {
      "^.+\\.[t|j]sx?$": "babel-jest"
    }
  }
}
```
babel.config.json
```json
{
  "presets": ["@babel/preset-env"]
}
```
![image-20210819074629684](/Users/bingyang/Documents/icey-wheels/docs/image/image-20210819074629684.png)
