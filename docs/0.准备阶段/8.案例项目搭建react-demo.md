## 创建案例目录
新建examples目录，专门放后期的一些demo展示项目 `mkdir examples`
然后在lerna.json中的 'packages' 添加 `examples/*`
```json
  "packages": [
    "packages/*",
    "examples/*"
  ],
```

## 搭建react项目demo
### 方法一: cra创建
- `cd examples`
- 创建react项目：`npx create-react-app react-demo --template typescript`
- 通过lerna管理： `lerna create react-demo examples` ,会自动修改项目`package.json`相关配置注册lerna

### 方法二：webpack自己搭建
- `cd examples`
- `mkdir react-demo`
- 创建项目目录 `src`
- 安装依赖： 
    - webpack相关： `npm install -D webpack webpack-cli`
    - babel7相关：   
      `npm install -D @babel/core @babel/cli @babel/preset-env`     
      通过 Polyfill 方式在目环境中添加缺失的特性(@babel/polyfill模块)  
      `npm install -D @babel/polyfill`   
    - loader相关：react+typescript+sass  
        `npm install react react-dom react-router`  
        `npm install -D babel-loader ts-loader url-loader typesript style-loader less less-loader css-loader html-webpack-plugin `  
        `npm install -D @types/react @types/react-dom @types/react-router-dom`

webpack.config.js
```js
const path = require('path');
const HtmlWebpackPlugin = require("html-webpack-plugin");
module.exports = {
    mode:"development",
    entry: path.resolve(__dirname, 'src/index.tsx'),
    output: {
        filename: 'bundle.js',
        path: path.resolve(__dirname, 'dist'),
    },
    resolve: {
        extensions: ['.tsx', '.ts', '.js', '.json'],
    },
    devServer: {
        publicPath: '/',
        contentBase: path.join(__dirname, './public/'),
        open: true,
        port: 4237,
        hot: true,
        // historyApiFallback:{
        //     index:'src/index.html'
        // },
    },
    module: {
        rules: [
            {
                test: /\.(ts|js)x?$/,
                use: {
                    loader: 'babel-loader',
                    options: {
                        presets: ['@babel/preset-env']
                    }
                },
                include:/src/,
                exclude: /node_modules/
            },
            {
                test: /\.(ts|tsx)$/,
                loader: "ts-loader",
                exclude: /node_modules/
            }, {
                test: /\.css$/,
                use: ['style-loader', 'css-loader'],
                exclude: /node_modules/
            }, {
                test: /\.(png|jp(e*)g|svg)$/,
                use: [{
                    loader: 'url-loader',
                    options: {
                        esModule: false
                    }
                }]
            }, {
                test: /\.less$/,
                use: [
                    {
                        loader: 'style-loader', 
                    },
                    {
                        loader: 'css-loader', 
                    },
                    {
                        loader: 'less-loader', 

                    },
                ],
            }
        ]

    },
    plugins: [
        new HtmlWebpackPlugin({
            inject: true,
            template: path.resolve(__dirname, "/public/index.html")
        })
    ]
}
```
## 本地软链依赖

```shell
lerna add @iwheels/react-error-boundary @iexamples/react-demo
```





一些问题

- webpack-dev-server的兼容问题 https://www.cnblogs.com/asahi-front/p/14519960.html 



